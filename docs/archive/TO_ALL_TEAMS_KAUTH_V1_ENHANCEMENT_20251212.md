# ğŸš¨ [ê¸´ê¸‰] K-Auth v1.0 ì¶”ê°€ ê°œë°œ í•„ìš”ì‚¬í•­ ê³µì§€

**ì‘ì„±ì¼**: 2024-12-12  
**ì‘ì„±íŒ€**: Orchestrator Team (K-Auth ë‹´ë‹¹)  
**ëŒ€ìƒ**: ëª¨ë“  íŒ€

---

## ğŸ“¢ ë°°ê²½

K-Jarvis 1.0 ë¦´ë¦¬ì¦ˆ ê²€í†  ì¤‘, K-Authê°€ **ì§„ì •í•œ OAuth Provider**ë¡œì„œ íƒ€ì‚¬ í”Œë«í¼ì˜ SSO ì—°ë™ì„ ì§€ì›í•˜ë ¤ë©´ ì¶”ê°€ ê°œë°œì´ í•„ìš”í•¨ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.

### í˜„ì¬ ë¬¸ì œì 
- âŒ OAuth App ë“±ë¡ UI ì—†ìŒ (APIë§Œ ì¡´ì¬)
- âŒ ê°œë°œì ì½˜ì†”/ëŒ€ì‹œë³´ë“œ ì—†ìŒ
- âŒ OAuth Provider ì—°ë™ ê°€ì´ë“œ ë¬¸ì„œ ì—†ìŒ
- âŒ Admin ê¶Œí•œ ì²´í¬ ë¯¸í¡ (í˜„ì¬ ëˆ„êµ¬ë‚˜ Client ìƒì„± ê°€ëŠ¥)

### íƒ€ì‚¬ ì°¸ê³ 
| ì„œë¹„ìŠ¤ | OAuth App ë“±ë¡ ë°©ë²• |
|--------|---------------------|
| GitHub | Settings > Developer settings > OAuth Apps |
| Google | Cloud Console > APIs & Services > Credentials |
| Kakao | Kakao Developers > ì•± ë“±ë¡ |

---

## ğŸ› ï¸ K-Auth v1.0 ì¶”ê°€ ê°œë°œ í•­ëª©

### Phase 1: ë°±ì—”ë“œ ë³´ì™„ (í•„ìˆ˜)

| # | ì‘ì—… | ì„¤ëª… | ì˜ˆìƒ ì†Œìš” |
|---|------|------|----------|
| 1 | Admin ê¶Œí•œ ì²´í¬ | Client ìƒì„± ì‹œ ê´€ë¦¬ìë§Œ ê°€ëŠ¥í•˜ë„ë¡ | 0.5ì¼ |
| 2 | Client ìˆ˜ì • API | `PUT /api/clients/{client_id}` | 0.5ì¼ |
| 3 | Client ì‚­ì œ API | `DELETE /api/clients/{client_id}` | 0.5ì¼ |
| 4 | Client ëª©ë¡ API | `GET /api/clients` (ì†Œìœ ìë³„ í•„í„°ë§) | 0.5ì¼ |

### Phase 2: ê°œë°œì UI (í•„ìˆ˜)

| # | ì‘ì—… | ì„¤ëª… | ì˜ˆìƒ ì†Œìš” |
|---|------|------|----------|
| 5 | OAuth App ë“±ë¡ í˜ì´ì§€ | `/developer/apps/new` | 1ì¼ |
| 6 | ê°œë°œì ëŒ€ì‹œë³´ë“œ | `/developer/dashboard` - ì•± ëª©ë¡, ê´€ë¦¬ | 1ì¼ |
| 7 | Client Secret ì¬ë°œê¸‰ | ë³´ì•ˆìƒ Secret ë³€ê²½ ê¸°ëŠ¥ | 0.5ì¼ |

### Phase 3: ë¬¸ì„œí™” (í•„ìˆ˜)

| # | ì‘ì—… | ì„¤ëª… | ì˜ˆìƒ ì†Œìš” |
|---|------|------|----------|
| 8 | OAuth Provider ê°€ì´ë“œ | íƒ€ í”Œë«í¼ì´ K-Auth SSO ì—°ë™í•˜ëŠ” ë°©ë²• | 1ì¼ |
| 9 | API ë ˆí¼ëŸ°ìŠ¤ | ëª¨ë“  OAuth ì—”ë“œí¬ì¸íŠ¸ ëª…ì„¸ | 0.5ì¼ |
| 10 | ì˜ˆì œ ì½”ë“œ | Python, JavaScript ì—°ë™ ì˜ˆì œ | 0.5ì¼ |

**ì´ ì˜ˆìƒ ì†Œìš”: ì•½ 6.5ì¼**

---

## ğŸ“‹ í˜„ì¬ K-Auth êµ¬í˜„ ìƒíƒœ

### âœ… ì´ë¯¸ êµ¬í˜„ë¨ (ë°±ì—”ë“œ)
```
OAuth 2.0 Endpoints:
â”œâ”€â”€ GET  /oauth/authorize     # Authorization Endpoint
â”œâ”€â”€ POST /oauth/token         # Token Endpoint
â”œâ”€â”€ GET  /oauth/userinfo      # UserInfo Endpoint
â”œâ”€â”€ POST /oauth/revoke        # Token Revocation
â””â”€â”€ POST /api/clients         # Client ìƒì„± (Admin ì²´í¬ ì—†ìŒ)

ë°ì´í„° ëª¨ë¸:
â”œâ”€â”€ User           # ì‚¬ìš©ì
â”œâ”€â”€ OAuthClient    # OAuth í´ë¼ì´ì–¸íŠ¸ (client_id, secret, redirect_uris)
â”œâ”€â”€ RefreshToken   # Refresh Token ì €ì¥
â””â”€â”€ WebhookEndpoint # Webhook

ê¸°íƒ€:
â”œâ”€â”€ Redis ê¸°ë°˜ Authorization Code (10ë¶„ TTL)
â”œâ”€â”€ JWT Access Token
â””â”€â”€ Refresh Token ë¡œí…Œì´ì…˜
```

### âŒ ë¯¸êµ¬í˜„
```
UI:
â”œâ”€â”€ ê°œë°œì ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ OAuth App ë“±ë¡ í˜ì´ì§€
â””â”€â”€ Client ê´€ë¦¬ UI

API:
â”œâ”€â”€ GET /api/clients          # ëª©ë¡ ì¡°íšŒ
â”œâ”€â”€ PUT /api/clients/{id}     # ìˆ˜ì •
â””â”€â”€ DELETE /api/clients/{id}  # ì‚­ì œ

ë¬¸ì„œ:
â””â”€â”€ docs/ í´ë” ìì²´ê°€ ì—†ìŒ
```

---

## ğŸ¯ ëª©í‘œ ê²°ê³¼ë¬¼

### 1. ê°œë°œì ëŒ€ì‹œë³´ë“œ UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  K-Auth ê°œë°œì ì½˜ì†”                              [ë¡œê·¸ì•„ì›ƒ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ë‚´ OAuth Apps                         [+ ìƒˆ ì•± ë“±ë¡]       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“± My Platform                                       â”‚   â”‚
â”‚  â”‚    Client ID: kauth_abc123...                       â”‚   â”‚
â”‚  â”‚    Created: 2024-12-12                              â”‚   â”‚
â”‚  â”‚    [ìˆ˜ì •] [Secret ì¬ë°œê¸‰] [ì‚­ì œ]                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“± Another App                                       â”‚   â”‚
â”‚  â”‚    Client ID: kauth_xyz789...                       â”‚   â”‚
â”‚  â”‚    Created: 2024-12-10                              â”‚   â”‚
â”‚  â”‚    [ìˆ˜ì •] [Secret ì¬ë°œê¸‰] [ì‚­ì œ]                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. OAuth App ë“±ë¡ í˜ì´ì§€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ìƒˆ OAuth App ë“±ë¡                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ì•± ì´ë¦„ *                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ My Platform                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  í™ˆí˜ì´ì§€ URL                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ https://my-platform.com                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ì•± ì„¤ëª…                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ K-Auth SSOë¥¼ ì‚¬ìš©í•˜ëŠ” í”Œë«í¼ì…ë‹ˆë‹¤.                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  Authorization callback URL *                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ https://my-platform.com/auth/callback                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  [+ Redirect URI ì¶”ê°€]                                      â”‚
â”‚                                                             â”‚
â”‚                              [ì·¨ì†Œ]  [ì•± ë“±ë¡]              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. OAuth Provider ì—°ë™ ê°€ì´ë“œ (ë¬¸ì„œ)
```markdown
# K-Auth OAuth 2.0 ì—°ë™ ê°€ì´ë“œ

## 1. OAuth App ë“±ë¡
1. K-Auth ê°œë°œì ì½˜ì†” ì ‘ì† (https://k-auth.example.com/developer)
2. "ìƒˆ ì•± ë“±ë¡" í´ë¦­
3. ì•± ì •ë³´ ì…ë ¥ (ì´ë¦„, Redirect URI ë“±)
4. Client ID / Client Secret ë°œê¸‰

## 2. Authorization Code Flow

### Step 1: ì‚¬ìš©ìë¥¼ K-Authë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
GET https://k-auth.example.com/oauth/authorize
  ?response_type=code
  &client_id={CLIENT_ID}
  &redirect_uri={REDIRECT_URI}
  &scope=openid profile email
  &state={RANDOM_STATE}

### Step 2: Authorization Codeë¡œ Token êµí™˜
POST https://k-auth.example.com/oauth/token
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code
&code={AUTHORIZATION_CODE}
&redirect_uri={REDIRECT_URI}
&client_id={CLIENT_ID}
&client_secret={CLIENT_SECRET}

### Step 3: Access Tokenìœ¼ë¡œ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
GET https://k-auth.example.com/oauth/userinfo
Authorization: Bearer {ACCESS_TOKEN}

## 3. ì˜ˆì œ ì½”ë“œ

### Python
import requests

# Token êµí™˜
response = requests.post(
    "https://k-auth.example.com/oauth/token",
    data={
        "grant_type": "authorization_code",
        "code": auth_code,
        "redirect_uri": REDIRECT_URI,
        "client_id": CLIENT_ID,
        "client_secret": CLIENT_SECRET
    }
)
tokens = response.json()
```

---

## ğŸ“… ì¼ì • ì œì•ˆ

| ë‹¨ê³„ | ê¸°ê°„ | ë‹´ë‹¹ |
|------|------|------|
| Phase 1: ë°±ì—”ë“œ ë³´ì™„ | 12/13 ~ 12/14 | Orchestrator Team |
| Phase 2: ê°œë°œì UI | 12/15 ~ 12/17 | Orchestrator Team |
| Phase 3: ë¬¸ì„œí™” | 12/18 | Orchestrator Team |
| í†µí•© í…ŒìŠ¤íŠ¸ | 12/19 | ì „ íŒ€ |

---

## ğŸ“ ì˜í–¥ ë²”ìœ„

### ë‹¤ë¥¸ íŒ€ì— ë¯¸ì¹˜ëŠ” ì˜í–¥
- **Agent Team**: ì˜í–¥ ì—†ìŒ (K-Auth ì§ì ‘ ì‚¬ìš© ì•ˆí•¨)
- **MCPHub Team**: K-Auth SSO ì—°ë™ ì´ë¯¸ ì™„ë£Œ, ì¶”ê°€ ì‘ì—… ì—†ìŒ
- **Orchestrator Team**: K-Auth SSO ì—°ë™ ì´ë¯¸ ì™„ë£Œ, ì¶”ê°€ ì‘ì—… ì—†ìŒ

### ì‹ ê·œ í”Œë«í¼ ì—°ë™ ì‹œ
- ê°œë°œì ì½˜ì†”ì—ì„œ ì§ì ‘ OAuth App ë“±ë¡ ê°€ëŠ¥
- ë¬¸ì„œ ì°¸ê³ í•˜ì—¬ ìì²´ ì—°ë™ ê°œë°œ ê°€ëŠ¥

---

## âœ… íŒ€ë³„ í™•ì¸ ìš”ì²­

ê° íŒ€ì€ ì´ ë¬¸ì„œë¥¼ í™•ì¸í•˜ê³  ì˜ê²¬ì´ ìˆìœ¼ë©´ ê³µìœ  ë¶€íƒë“œë¦½ë‹ˆë‹¤.

- [ ] Agent Team í™•ì¸
- [ ] MCPHub Team í™•ì¸
- [ ] Orchestrator Team ê°œë°œ ì°©ìˆ˜

---

**K-Jarvis Orchestrator Team**


